---
# TEST Environment Platform Configuration

default_platform_domain: "route-game-flex.eu"
default_location: "TEST"
default_region: "Ireland"
default_dns_ttl: 1
default_dns_proxied: true
default_ssl_mode: "full_strict"
default_always_use_https: true

# Domain Definitions
cloudflare_domains:
  - name: "game-flex.eu"
    description: "Game Flex EU - European production gaming"
  - name: "game-flex.us"
    description: "Game Flex US - US production gaming"
  - name: "route-game-flex.eu"
    description: "Route Game Flex EU - IOM production gaming"
  - name: "iforium.com"
    description: "Iforium - Production, staging, and global services"

# Environment to Domain Mapping
environment_domain_map:
  production:
    eu: "game-flex.eu"
    us: "game-flex.us"
    iom: "iforium.com"
    route: "route-game-flex.eu"
  staging: "iforium.com"
  test: "iforium.com"
  global: "iforium.com"

# Standard DNS Record Types (Global Defaults)
standard_dns_record_types:
  - name: "api"
    ip_key: "api"
    comment: "API service"
    
  - name: "webapi"
    ip_key: "webapi"
    comment: "Web API service"
    
  - name: "gpwebapi"
    ip_key: "gpwebapi"
    comment: "GP Web API service"
  
  - name: "gameflex"
    ip_key: "gameflex"
    comment: "GameFlex platform"
    
  - name: "backoffice"
    ip_key: "backoffice"
    comment: "Backoffice admin portal"
  
  - name: "portal"
    ip_key: "portal"
    comment: "Player portal"
    
  - name: "mobile"
    ip_key: "mobile"
    comment: "Mobile API"
    
  - name: "integration"
    ip_key: "integration"
    comment: "Integration API"
    
  - name: "reporting"
    ip_key: "reporting"
    comment: "Reporting service"
    
  - name: "admin"
    ip_key: "admin"
    comment: "Admin interface"
  
  - name: "gamemanager"
    ip_key: "gamemanager"
    comment: "Game manager service"
  
  - name: "bonusplaythrough"
    ip_key: "bonusplaythrough"
    comment: "Bonus playthrough service"
  
  - name: "operatorwalletapi"
    ip_key: "operatorwalletapi"
    comment: "Operator wallet API service"

# Environment-Specific Settings
test_environment_settings:
  ssl_mode: "off"
  always_use_https: false
  dns_proxied: true

production_environment_settings:
  ssl_mode: "full_strict"
  always_use_https: true
  dns_proxied: true

# Cloudflare Notification Configuration
cloudflare_notification_email: "gameflex@gamesglobal.com"

cloudflare_notification_email_destinations:
  - name: "cloudflare-devops-team"
    email: "{{ cloudflare_notification_email }}"

cloudflare_notification_policies:  
  - name: "ssl-certificate-expiry"
    alert_type: "universal_ssl_event_type"
    enabled: true
    description: "Alert when SSL certificates are about to expire"
    filters:
      enabled: ["true"]
      event_type: ["expiration", "renewal", "error"]
    mechanisms:
      email:
        - id: "cloudflare-devops-team"
        
  - name: "health-check-failures"
    alert_type: "health_check_status_notification_event"
    enabled: true
    description: "Alert when health checks fail"
    filters:
      enabled: ["true"]
      status: ["Unhealthy"]
    mechanisms:
      email:
        - id: "cloudflare-devops-team"
